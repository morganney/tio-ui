import React from 'react';
import PropTypes from 'prop-types';
import {
    PlanePreviewActionBar,
    PlanePreviewHeader,
    PlanePreviewHeaderView,
    PlanePreviewItem
} from '@hivekit/plane';

import {
    assetIcon,
    assetName
} from 'tio-vm/modules/assets/utils';
import {
    AssetActionsView,
    AssetGraphiconsView,
    AssetTagsView,
    AssetScanInfoView,
    AssetInfoView
} from 'tio-vm/modules/assets/components/presentations';

export const AssetPreviewView = ({ assetInfo, assetExploitability, onShowDetails }) => {
    return (
        <React.Fragment>
            <PlanePreviewItem>
                <PlanePreviewHeader
                    iconComponent={assetIcon(assetInfo.system_type)}
                    contentComponent={<PlanePreviewHeaderView title={assetName(assetInfo)} />} />
            </PlanePreviewItem>
            <PlanePreviewActionBar actions={<AssetActionsView data={assetInfo} id={`${assetInfo.id}_info`} />} />
            <AssetGraphiconsView
                assetInfo={assetInfo}
                assetExploitability={assetExploitability}
                clickEvent={onShowDetails} />
            <AssetTagsView tags={assetInfo.tags} />
            <AssetScanInfoView assetInfo={assetInfo} />
            <AssetInfoView assetInfo={assetInfo} />
        </React.Fragment>
    );
};
AssetPreviewView.propTypes = {
    assetExploitability: PropTypes.number.isRequired,
    assetInfo: PropTypes.object.isRequired,
    onShowDetails: PropTypes.func.isRequired
};
