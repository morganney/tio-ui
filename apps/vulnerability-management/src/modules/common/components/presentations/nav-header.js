import React from 'react';
import PropTypes from 'prop-types';
import { spacing, fontSizes } from '@hivekit/core';
import { NavLink, withRouter } from 'react-router-dom';

class NavHeader extends React.Component {
    static propTypes = {
        // TODO shape
        nav: PropTypes.array.isRequired,
        match: PropTypes.object.isRequired
    };

    constructor () {
        super();
        this.styles = {
            navStyle: {
                paddingLeft: spacing[4],
                height: 42
            },
            activeStyle: {
                borderBottom: '3px #91c0eb solid',
                color: '#333',
                paddingBottom: 6
            },
            linkStyle: {
                fontSize: fontSizes[3],
                marginRight: spacing[4],
                fontWeight: 'bold',
                color: '#999',
                textDecoration: 'none'
            }
        };
        this.renderNavLink = this.renderNavLink.bind(this);
    }

    renderNavLink (navItem, index) {
        const { match } = this.props;

        return (
            <NavLink key={index}
                to={`${match.url}/${navItem.path}`}
                style={this.styles.linkStyle}
                activeStyle={this.styles.activeStyle}>
                {navItem.title}
            </NavLink>
        );
    }

    render () {
        const { nav } = this.props;

        return (
            <div style={this.styles.navStyle}>
                {nav && nav.map(this.renderNavLink)}
            </div>
        );
    }
}

export const NavHeaderView = withRouter(NavHeader);
