import React from 'react';
import PropTypes from 'prop-types';
// Hidden for demo/enablement - TODO - reenable
// import { ExportIcon } from '@hivekit/icon';

import { STEM_NAME } from 'tio-vm/modules/vulnerabilities/constants';
import { PLANE_ACTION_EXPORT } from 'tio-vm/modules/common/constants';
import { ActionsBarComponent, TableActionsBarComponent } from 'tio-vm/modules/common/components';

const actionRecast = (event, data) => {
    alert(`action recast ${data}`);
};
const actionScan = (event, data) => {
    alert(`action scan ${data}`);
};
const actionExport = (event, action) => {
    action.updatePlaneAction({
        type: PLANE_ACTION_EXPORT,
        params: { ...action, exportType: STEM_NAME }
    });
};

// TODO intl - title
// Hidden for demo/enablement - TODO - reenable
// const pluginActions = [
//     { Icon: ExportIcon, click: actionExport, title: 'Export' }
// ];

// TODO --remove after reenable
const pluginActions = [];

const PluginTableActionsView = (props) => {
    // TableActionsBar gets the row data for us, no need to pass data prop
    return <TableActionsBarComponent {...props} actions={pluginActions} idKey='id' />;
};
PluginTableActionsView.propTypes = {
    // used to distinguish the data type of the data prop, plugin, instance, etc
    dataType: PropTypes.string
};

const PluginActionsView = (props) => {
    return <ActionsBarComponent {...props} actions={pluginActions} />;
};
PluginActionsView.propTypes = {
    data: PropTypes.object.isRequired,
    dataType: PropTypes.string
};

export {
    actionRecast,
    actionScan,
    actionExport,
    PluginActionsView,
    PluginTableActionsView
};
