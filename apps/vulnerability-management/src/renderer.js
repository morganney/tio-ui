import React from 'react';
import PropTypes from 'prop-types';
import { Route, Switch, Redirect } from 'react-router-dom';

import { PlaneAssetBaseView } from 'tio-vm/modules/assets/components/presentations';
import { PlaneVulnBaseView } from 'tio-vm/modules/vulnerabilities/components/presentations';

const Renderer = ({ match, skipNotFound }) => {
    // TODO may need to match vm/ prior to /assets, /vulns etc
    return (
        <Switch>
            <Route path={`${match.path}/assets`} component={PlaneAssetBaseView} />
            <Route path={`${match.path}/vulnerabilities`} component={PlaneVulnBaseView} />
            { skipNotFound ? null : <Redirect to='/not-found' /> }
        </Switch>
    );
};

Renderer.propTypes = {
    match: PropTypes.object,
    skipNotFound: PropTypes.bool
};

export {
    Renderer
};
